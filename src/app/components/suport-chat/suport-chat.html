<section id="chat" class="py-20 bg-gradient-to-br from-betha-pink/5 via-betha-bg to-betha-green/5">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
        <span class="text-betha-pink">Suporte</span>
        <span class="text-betha-green"> Online</span>
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Converse com nossa equipe de suporte. Estamos aqui para ajudar!
      </p>
    </div>

    <div class="bg-white rounded-2xl shadow-lg border border-gray-200 h-[600px] flex flex-col">
      
      <!-- Header do Chat -->
      <div class="border-b border-gray-200 p-6 bg-gradient-to-r from-betha-pink to-betha-green rounded-t-2xl">
        <div class="flex items-center space-x-4">
          <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
            <i class="fas fa-headset text-white text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-white">Suporte Betha Studio</h3>
            <p class="text-white/90 text-sm">Atendimento 24/7</p>
          </div>
        </div>
      </div>

      <!-- Ãrea de Mensagens -->
      <div class="flex-1 p-6 overflow-y-auto space-y-4" #messageContainer>
        <div *ngFor="let message of messages()" 
             [class]="message.sender === 'user' 
               ? 'flex justify-end' 
               : 'flex justify-start'">
          
          <div [class]="message.sender === 'user'
            ? 'bg-gradient-to-r from-betha-pink to-betha-pink/90 text-white rounded-l-2xl rounded-tr-2xl max-w-xs lg:max-w-md'
            : 'bg-gray-100 text-gray-800 rounded-r-2xl rounded-tl-2xl max-w-xs lg:max-w-md'"
            class="px-4 py-3 shadow-sm">
            
            <p class="text-sm">{{ message.text }}</p>
            <p class="text-xs opacity-70 mt-1 text-right">
              {{ formatDateTime(message.timestamp) }}
            </p>
          </div>
        </div>

        <div *ngIf="messages().length === 0" class="text-center py-12 text-gray-500">
          <i class="fas fa-comments text-4xl mb-3 opacity-50"></i>
          <p class="text-lg">Nenhuma mensagem ainda</p>
          <p class="text-sm">Inicie uma conversa com nossa equipe de suporte</p>
        </div>
      </div>

      <!-- Input de Mensagem -->
      <div class="border-t border-gray-200 p-6">
        <div class="flex space-x-4">
          <input
            type="text"
            [value]="newMessage()"
            (input)="newMessage.set($any($event.target).value)"
            (keyup.enter)="sendMessage()"
            placeholder="Digite sua mensagem..."
            [disabled]="isLoading()"
            class="flex-1 border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:border-betha-green transition duration-300 disabled:opacity-50">
          
          <button
            (click)="sendMessage()"
            [disabled]="!newMessage().trim() || isLoading()"
            class="bg-gradient-to-r from-betha-green to-betha-green/90 hover:from-betha-green hover:to-betha-green text-white px-8 py-3 rounded-xl font-semibold transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105">
            <i *ngIf="!isLoading()" class="fas fa-paper-plane"></i>
            <i *ngIf="isLoading()" class="fas fa-spinner fa-spin"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>